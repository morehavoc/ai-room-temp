<!DOCTYPE html>
<html>
<head>
    <title>Thermometer Test</title>
    <link rel="stylesheet" href="frontend/styles/main.css">
    <link rel="stylesheet" href="frontend/styles/thermometer.css">
    <link rel="stylesheet" href="frontend/styles/components.css">
    <style>
        body {
            margin: 20px;
            font-family: Arial, sans-serif;
        }
        .controls {
            margin: 20px 0;
        }
        button {
            margin: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
        .test-section {
            display: flex;
            align-items: center;
            gap: 30px;
        }
    </style>
</head>
<body>
    <h1>Thermometer Visual Test</h1>
    
    <div class="test-section">
        <div class="thermometer-container">
            <svg id="thermometer-svg" class="thermometer-svg" viewBox="0 0 100 300" width="120" height="360">
                <!-- Define gradients -->
                <defs>
                    <linearGradient id="temp-gradient" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="0%" style="stop-color:#0088ff;stop-opacity:1" />
                        <stop offset="33%" style="stop-color:#44aaff;stop-opacity:1" />
                        <stop offset="66%" style="stop-color:#ffaa00;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#ff4444;stop-opacity:1" />
                    </linearGradient>
                </defs>
                
                <!-- Thermometer outer tube -->
                <rect x="40" y="20" width="20" height="230" fill="#f0f0f0" stroke="#ccc" stroke-width="2" rx="10" />
                
                <!-- Thermometer inner background -->
                <rect x="42" y="22" width="16" height="226" fill="#fff" rx="8" />
                
                <!-- Thermometer bulb -->
                <circle cx="50" cy="260" r="12" fill="#f0f0f0" stroke="#ccc" stroke-width="2" />
                
                <!-- Temperature fill (starts from bottom) -->
                <rect id="temperature-fill" x="44" y="248" width="12" height="0" fill="url(#temp-gradient)" rx="6" />
                
                <!-- Bulb fill -->
                <circle id="bulb-fill" cx="50" cy="260" r="10" fill="#0088ff" />
                
                <!-- Temperature markings -->
                <g class="temperature-markings">
                    <!-- Hot (80-100) -->
                    <line x1="62" y1="40" x2="70" y2="40" stroke="#ff4444" stroke-width="2"/>
                    <text x="72" y="44" fill="#ff4444" font-size="10" text-anchor="start">Hot</text>
                    
                    <!-- Warm (60-80) -->
                    <line x1="62" y1="80" x2="70" y2="80" stroke="#ffaa00" stroke-width="2"/>
                    <text x="72" y="84" fill="#ffaa00" font-size="10" text-anchor="start">Warm</text>
                    
                    <!-- Cool (40-60) -->
                    <line x1="62" y1="140" x2="70" y2="140" stroke="#44aaff" stroke-width="2"/>
                    <text x="72" y="144" fill="#44aaff" font-size="10" text-anchor="start">Cool</text>
                    
                    <!-- Cold (0-40) -->
                    <line x1="62" y1="200" x2="70" y2="200" stroke="#0088ff" stroke-width="2"/>
                    <text x="72" y="204" fill="#0088ff" font-size="10" text-anchor="start">Cold</text>
                </g>
                
                <!-- Current temperature display -->
                <text id="temperature-text" x="50" y="290" fill="#333" font-size="12" text-anchor="middle" font-weight="bold">--°</text>
            </svg>
        </div>
        
        <div class="controls">
            <h3>Test Controls</h3>
            <button onclick="setTemp(0)">0°</button>
            <button onclick="setTemp(25)">25°</button>
            <button onclick="setTemp(50)">50°</button>
            <button onclick="setTemp(75)">75°</button>
            <button onclick="setTemp(100)">100°</button>
            <br><br>
            <button onclick="animateTest()">Animate Test</button>
            <button onclick="reset()">Reset</button>
            <br><br>
            <p>Current Temperature: <span id="current-temp">0</span>°</p>
        </div>
    </div>

    <script src="frontend/scripts/thermometer-display.js"></script>
    <script>
        let thermometer;
        
        function init() {
            const svg = document.getElementById('thermometer-svg');
            thermometer = new ThermometerDisplay(svg);
            console.log('Test thermometer initialized');
        }
        
        function setTemp(temp) {
            thermometer.updateTemperature(temp, true);
            document.getElementById('current-temp').textContent = temp;
        }
        
        function reset() {
            thermometer.reset();
            document.getElementById('current-temp').textContent = '0';
        }
        
        function animateTest() {
            const temps = [0, 20, 40, 60, 80, 100, 60, 30, 0];
            let i = 0;
            
            const interval = setInterval(() => {
                if (i < temps.length) {
                    setTemp(temps[i]);
                    i++;
                } else {
                    clearInterval(interval);
                }
            }, 1000);
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>